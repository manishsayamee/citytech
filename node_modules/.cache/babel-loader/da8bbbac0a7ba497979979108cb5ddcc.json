{"ast":null,"code":"var _jsxFileName = \"/home/manish/Desktop/login-app-react-hooks/src/pages/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getUser, removeUserSession } from '../utils/common';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = props => {\n  _s();\n\n  const history = useNavigate();\n  const user = getUser();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const token = getToken();\n\n    if (!token) {\n      return;\n    }\n\n    axios.post('https://jp-dev.cityremit.global/web-api/transaction-manager/v1/admin/dashboard/search', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(response => {\n      console.log(response, \"responTest\"); // setLoading(false);\n      // setUserSession(response.data[\"data\"][0][\"jwt_token\"], response.data[\"data\"][0][\"login_id\"]);\n      // history('/dashboard');\n    }).catch(error => {\n      var _error$response;\n\n      setLoading(false);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 403) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    });\n  }); // handle click event of logout button\n\n  const handleLogout = () => {\n    removeUserSession();\n    history('/login');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Welcome \", user, \"!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"button\",\n      onClick: handleLogout,\n      value: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Dashboard, \"wgT/J0nH74VX2k65Gei/D0vVwQ0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","getUser","removeUserSession","axios","Dashboard","props","history","user","error","setError","loading","setLoading","token","getToken","post","headers","then","response","console","log","catch","status","data","message","handleLogout"],"sources":["/home/manish/Desktop/login-app-react-hooks/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getUser, removeUserSession } from '../utils/common';\nimport axios from 'axios';\n\nconst Dashboard = props => {\n  const history = useNavigate();\n  const user = getUser();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios.post('https://jp-dev.cityremit.global/web-api/transaction-manager/v1/admin/dashboard/search', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n    },\n    }).then(response => {\n      console.log(response, \"responTest\")\n      // setLoading(false);\n      // setUserSession(response.data[\"data\"][0][\"jwt_token\"], response.data[\"data\"][0][\"login_id\"]);\n      // history('/dashboard');\n    }).catch(error => {\n      setLoading(false);\n      if (error.response?.status === 403) setError(error.response.data.message);\n      else setError(\"Something went wrong. Please try again later.\");\n    });\n  \n\n  });\n\n// handle click event of logout button\nconst handleLogout = () => {\n  removeUserSession();\n  history('/login');\n}\n\n\n\nreturn (\n  <div>\n    Welcome {user}!<br /><br />\n    <input type=\"button\" onClick={handleLogout} value=\"Logout\" />\n  </div>\n);\n}\n\nexport default Dashboard;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,EAAkBC,iBAAlB,QAA2C,iBAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAI;EAAA;;EACzB,MAAMC,OAAO,GAAGN,WAAW,EAA3B;EACA,MAAMO,IAAI,GAAGN,OAAO,EAApB;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMc,KAAK,GAAGC,QAAQ,EAAtB;;IACA,IAAI,CAACD,KAAL,EAAY;MACV;IACD;;IAEDT,KAAK,CAACW,IAAN,CAAW,uFAAX,EAAoG;MAClGC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,iBAAkB,UAASH,KAAM;MAF1B;IADyF,CAApG,EAKGI,IALH,CAKQC,QAAQ,IAAI;MAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB,YAAtB,EADkB,CAElB;MACA;MACA;IACD,CAVD,EAUGG,KAVH,CAUSZ,KAAK,IAAI;MAAA;;MAChBG,UAAU,CAAC,KAAD,CAAV;MACA,IAAI,oBAAAH,KAAK,CAACS,QAAN,oEAAgBI,MAAhB,MAA2B,GAA/B,EAAoCZ,QAAQ,CAACD,KAAK,CAACS,QAAN,CAAeK,IAAf,CAAoBC,OAArB,CAAR,CAApC,KACKd,QAAQ,CAAC,+CAAD,CAAR;IACN,CAdD;EAiBD,CAvBQ,CAAT,CANyB,CA+B3B;;EACA,MAAMe,YAAY,GAAG,MAAM;IACzBtB,iBAAiB;IACjBI,OAAO,CAAC,QAAD,CAAP;EACD,CAHD;;EAOA,oBACE;IAAA,uBACWC,IADX,oBACiB;MAAA;MAAA;MAAA;IAAA,QADjB,eACuB;MAAA;MAAA;MAAA;IAAA,QADvB,eAEE;MAAO,IAAI,EAAC,QAAZ;MAAqB,OAAO,EAAEiB,YAA9B;MAA4C,KAAK,EAAC;IAAlD;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAMC,CA7CD;;GAAMpB,S;UACYJ,W;;;KADZI,S;AA+CN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}